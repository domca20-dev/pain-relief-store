{%- comment -%}
  Section 8: Social Proof / Testimonials
  Upgraded: Dual-row infinite scrolling review cards (#50 pattern)
  with profile avatars, star ratings, verified badges, and bidirectional animation.
  Combined with #2/#9 rating summary strip pattern.
  Mix of: pain type diversity, age diversity, specific results.
{%- endcomment -%}

<style>
  .testimonials-infinite {
    background: {{ section.settings.background_color | default: '#f9f9f9' }};
    padding: 48px 0 56px;
    overflow: hidden;
  }
  .testimonials-infinite__header {
    text-align: center;
    max-width: 680px;
    margin: 0 auto 12px;
    padding: 0 20px;
  }
  .testimonials-infinite__eyebrow {
    display: inline-block;
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #2ecc71;
    margin-bottom: 8px;
  }
  .testimonials-infinite__title {
    font-size: 32px;
    font-weight: 800;
    line-height: 1.15;
    color: #1a1a2e;
    margin: 0 0 8px;
  }
  .testimonials-infinite__subtitle {
    font-size: 16px;
    color: #666;
    line-height: 1.5;
    margin: 0 0 32px;
  }

  /* Rating summary strip (#2 / #9 pattern) */
  .testimonials-infinite__rating-strip {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    margin-bottom: 32px;
    flex-wrap: wrap;
  }
  .testimonials-infinite__avatars {
    display: flex;
    margin-right: 4px;
  }
  .tsc-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 16px;
    color: #fff;
    flex-shrink: 0;
  }
  .tsc-avatar--sm {
    width: 26px;
    height: 26px;
    font-size: 12px;
    border: 2px solid #fff;
    box-shadow: 0 1px 3px rgba(0,0,0,0.12);
  }
  .tsc-avatar--sm + .tsc-avatar--sm {
    margin-left: -8px;
  }
  .tsc-avatar--green { background: #2ecc71; }
  .tsc-avatar--blue { background: #3498db; }
  .tsc-avatar--purple { background: #9b59b6; }
  .tsc-avatar--coral { background: #e74c3c; }
  .tsc-avatar--teal { background: #1abc9c; }
  .tsc-avatar--gold { background: #f39c12; }

  .testimonials-infinite__stars {
    color: #f5a623;
    font-size: 16px;
    letter-spacing: 1px;
  }
  .testimonials-infinite__rating-text {
    font-size: 13px;
    color: #666;
  }
  .testimonials-infinite__rating-text strong {
    color: #1a1a2e;
    font-weight: 800;
  }

  /* Scrolling rows */
  .testimonials-infinite__row {
    width: 100%;
    padding: 4px 0;
    overflow: hidden;
    white-space: nowrap;
    position: relative;
    max-width: 100vw;
    margin-bottom: 12px;
  }
  .testimonials-infinite__track {
    display: flex;
  }
  .testimonials-infinite__track--left {
    animation: testimonial-scroll-left 45s linear infinite;
  }
  .testimonials-infinite__track--right {
    animation: testimonial-scroll-right 45s linear infinite;
  }
  @keyframes testimonial-scroll-left {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }
  @keyframes testimonial-scroll-right {
    0% { transform: translateX(-50%); }
    100% { transform: translateX(0); }
  }

  /* Review cards */
  .tsc-card {
    flex-shrink: 0;
    width: 340px;
    background: #fff;
    border: 1px solid #eaeaea;
    border-radius: 12px;
    padding: 18px 22px;
    margin-right: 14px;
    white-space: normal;
    display: flex;
    flex-direction: column;
    gap: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    transition: box-shadow 0.2s ease;
  }
  .tsc-card:hover {
    box-shadow: 0 4px 16px rgba(0,0,0,0.08);
  }
  .tsc-card__top {
    display: flex;
    align-items: center;
    gap: 12px;
  }
  .tsc-card__meta {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }
  .tsc-card__name {
    font-weight: 700;
    font-size: 14px;
    color: #1a1a2e;
    display: flex;
    align-items: center;
    gap: 6px;
  }
  .tsc-card__verified {
    display: inline-flex;
    align-items: center;
    gap: 3px;
    font-size: 11px;
    font-weight: 600;
    color: #2ecc71;
  }
  .tsc-card__detail {
    font-size: 12px;
    color: #999;
  }
  .tsc-card__stars {
    color: #f5a623;
    font-size: 14px;
    letter-spacing: 1px;
  }
  .tsc-card__quote {
    font-size: 14px;
    line-height: 1.55;
    color: #333;
    margin: 0;
  }

  @media screen and (max-width: 749px) {
    .testimonials-infinite {
      padding: 36px 0 40px;
    }
    .testimonials-infinite__title {
      font-size: 24px;
    }
    .tsc-card {
      width: 290px;
      padding: 14px 16px;
    }
    .testimonials-infinite__subtitle {
      font-size: 14px;
    }
  }
</style>

<div class="testimonials-infinite">
  <div class="testimonials-infinite__header">
    <span class="testimonials-infinite__eyebrow">Real Results</span>
    <h2 class="testimonials-infinite__title">Join 2,847+ People Finding Relief at Home</h2>
    <p class="testimonials-infinite__subtitle">Hear from real customers who tried everything before finding the [BRAND]™ belt.</p>
  </div>

  {%- comment -%} Rating summary strip (inspired by #2 / #9 patterns) {%- endcomment -%}
  <div class="testimonials-infinite__rating-strip">
    <div class="testimonials-infinite__avatars">
      <div class="tsc-avatar tsc-avatar--sm tsc-avatar--green">M</div>
      <div class="tsc-avatar tsc-avatar--sm tsc-avatar--blue">R</div>
      <div class="tsc-avatar tsc-avatar--sm tsc-avatar--purple">D</div>
    </div>
    <span class="testimonials-infinite__stars">★★★★★</span>
    <span class="testimonials-infinite__rating-text">rated <strong>4.9/5</strong> based on <strong>2,847+ Reviews</strong></span>
  </div>

  {%- comment -%} Row 1: scrolls left (forward) {%- endcomment -%}
  <div class="testimonials-infinite__row">
    <div class="testimonials-infinite__track testimonials-infinite__track--left">
      {%- for dupl in (1..2) -%}
        <div class="tsc-card">
          <div class="tsc-card__top">
            <div class="tsc-avatar tsc-avatar--green">M</div>
            <div class="tsc-card__meta">
              <span class="tsc-card__name">Margaret T. <span class="tsc-card__verified">✓ Verified</span></span>
              <span class="tsc-card__detail">Age 63 · Chronic Back Pain</span>
            </div>
          </div>
          <div class="tsc-card__stars">★★★★★</div>
          <p class="tsc-card__quote">"I was skeptical — I've wasted hundreds on back gadgets. But this was the first thing that actually felt like it was reaching the problem, not just covering it up. Two weeks in and I'm walking my dog again."</p>
        </div>

        <div class="tsc-card">
          <div class="tsc-card__top">
            <div class="tsc-avatar tsc-avatar--blue">R</div>
            <div class="tsc-card__meta">
              <span class="tsc-card__name">Robert K. <span class="tsc-card__verified">✓ Verified</span></span>
              <span class="tsc-card__detail">Age 58 · Sciatica</span>
            </div>
          </div>
          <div class="tsc-card__stars">★★★★★</div>
          <p class="tsc-card__quote">"My wife noticed before I did. She said I wasn't groaning when I got out of bed anymore. I didn't even realize I'd been doing that. Three weeks with this belt and mornings are completely different."</p>
        </div>

        <div class="tsc-card">
          <div class="tsc-card__top">
            <div class="tsc-avatar tsc-avatar--purple">D</div>
            <div class="tsc-card__meta">
              <span class="tsc-card__name">Denise W. <span class="tsc-card__verified">✓ Verified</span></span>
              <span class="tsc-card__detail">Age 61 · Arthritis</span>
            </div>
          </div>
          <div class="tsc-card__stars">★★★★★</div>
          <p class="tsc-card__quote">"I cancelled my next cortisone appointment. First time in two years I didn't need one. This belt costs less than a single injection. I wish someone had told me about this three years ago."</p>
        </div>

        <div class="tsc-card">
          <div class="tsc-card__top">
            <div class="tsc-avatar tsc-avatar--teal">J</div>
            <div class="tsc-card__meta">
              <span class="tsc-card__name">James H. <span class="tsc-card__verified">✓ Verified</span></span>
              <span class="tsc-card__detail">Age 69 · Shoulder Pain</span>
            </div>
          </div>
          <div class="tsc-card__stars">★★★★★</div>
          <p class="tsc-card__quote">"Third week in. I can reach the top shelf again. Sounds small but I've been asking my wife to get things down for months. She's thrilled I can do it myself now."</p>
        </div>

        <div class="tsc-card">
          <div class="tsc-card__top">
            <div class="tsc-avatar tsc-avatar--coral">P</div>
            <div class="tsc-card__meta">
              <span class="tsc-card__name">Patricia M. <span class="tsc-card__verified">✓ Verified</span></span>
              <span class="tsc-card__detail">Age 55 · Muscle Stiffness</span>
            </div>
          </div>
          <div class="tsc-card__stars">★★★★★</div>
          <p class="tsc-card__quote">"The heating pad was my best friend for 5 years. I thought it was helping. This belt showed me what actual relief feels like. The difference between surface warmth and deep relief is night and day."</p>
        </div>

        <div class="tsc-card">
          <div class="tsc-card__top">
            <div class="tsc-avatar tsc-avatar--gold">L</div>
            <div class="tsc-card__meta">
              <span class="tsc-card__name">Linda R. <span class="tsc-card__verified">✓ Verified</span></span>
              <span class="tsc-card__detail">Age 72 · Hip Pain</span>
            </div>
          </div>
          <div class="tsc-card__stars">★★★★★</div>
          <p class="tsc-card__quote">"I almost didn't buy it. I'm so glad I did. My hip doesn't wake me up at 3am anymore. That alone was worth it. I've told all my friends at church about it."</p>
        </div>
      {%- endfor -%}
    </div>
  </div>

  {%- comment -%} Row 2: scrolls right (reverse) {%- endcomment -%}
  <div class="testimonials-infinite__row">
    <div class="testimonials-infinite__track testimonials-infinite__track--right">
      {%- for dupl in (1..2) -%}
        <div class="tsc-card">
          <div class="tsc-card__top">
            <div class="tsc-avatar tsc-avatar--coral">D</div>
            <div class="tsc-card__meta">
              <span class="tsc-card__name">Diane P. <span class="tsc-card__verified">✓ Verified</span></span>
              <span class="tsc-card__detail">Age 67 · Lower Back & Hip</span>
            </div>
          </div>
          <div class="tsc-card__stars">★★★★★</div>
          <p class="tsc-card__quote">"I went from cancelling everything to being at my grandson's birthday last Saturday. Standing. In the photos. That's enough for me right now."</p>
        </div>

        <div class="tsc-card">
          <div class="tsc-card__top">
            <div class="tsc-avatar tsc-avatar--teal">G</div>
            <div class="tsc-card__meta">
              <span class="tsc-card__name">Gerald S. <span class="tsc-card__verified">✓ Verified</span></span>
              <span class="tsc-card__detail">Age 71 · Knee Pain</span>
            </div>
          </div>
          <div class="tsc-card__stars">★★★★★</div>
          <p class="tsc-card__quote">"I'm a retired carpenter. My knees were done. PT twice a week, cortisone every 3 months. Started using this belt on both knees daily. After a month, I'm back in my workshop. My PT asked what changed."</p>
        </div>

        <div class="tsc-card">
          <div class="tsc-card__top">
            <div class="tsc-avatar tsc-avatar--blue">B</div>
            <div class="tsc-card__meta">
              <span class="tsc-card__name">Barbara N. <span class="tsc-card__verified">✓ Verified</span></span>
              <span class="tsc-card__detail">Age 64 · Neck & Upper Back</span>
            </div>
          </div>
          <div class="tsc-card__stars">★★★★★</div>
          <p class="tsc-card__quote">"Spent $4,000 on a chiropractor last year. This $99 belt has done more for my neck in 3 weeks than 12 months of adjustments. I'm genuinely angry nobody told me sooner."</p>
        </div>

        <div class="tsc-card">
          <div class="tsc-card__top">
            <div class="tsc-avatar tsc-avatar--green">T</div>
            <div class="tsc-card__meta">
              <span class="tsc-card__name">Thomas W. <span class="tsc-card__verified">✓ Verified</span></span>
              <span class="tsc-card__detail">Age 59 · Lower Back</span>
            </div>
          </div>
          <div class="tsc-card__stars">★★★★★</div>
          <p class="tsc-card__quote">"I was about to schedule surgery. My daughter bought me this as a 'last try.' Four weeks later I called the surgeon to cancel. I still can't believe it."</p>
        </div>

        <div class="tsc-card">
          <div class="tsc-card__top">
            <div class="tsc-avatar tsc-avatar--purple">S</div>
            <div class="tsc-card__meta">
              <span class="tsc-card__name">Susan E. <span class="tsc-card__verified">✓ Verified</span></span>
              <span class="tsc-card__detail">Age 66 · Fibromyalgia</span>
            </div>
          </div>
          <div class="tsc-card__stars">★★★★★</div>
          <p class="tsc-card__quote">"With fibromyalgia everything hurts. Nothing helped consistently until this. I use it on different areas each day. My flare-ups are less frequent and less intense. First thing that's given me hope."</p>
        </div>

        <div class="tsc-card">
          <div class="tsc-card__top">
            <div class="tsc-avatar tsc-avatar--gold">E</div>
            <div class="tsc-card__meta">
              <span class="tsc-card__name">Edward C. <span class="tsc-card__verified">✓ Verified</span></span>
              <span class="tsc-card__detail">Age 74 · Osteoarthritis</span>
            </div>
          </div>
          <div class="tsc-card__stars">★★★★★</div>
          <p class="tsc-card__quote">"At 74 I'd accepted the pain as part of life. My son ordered this for me. Now I'm gardening again. I can kneel down and get back up. Small victories that mean everything."</p>
        </div>
      {%- endfor -%}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Testimonials",
  "tag": "section",
  "class": "testimonials-section",
  "settings": [
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#f9f9f9"
    }
  ],
  "presets": [
    {
      "name": "Testimonials"
    }
  ]
}
{% endschema %}
